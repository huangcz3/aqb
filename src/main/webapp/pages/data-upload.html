<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>上传</title>
    <link rel="stylesheet" type="text/css" href="../css/weui.min.css">
    <link rel="stylesheet" type="text/css" href="../css/jquery-weui.min.css">
    <link rel="stylesheet" type="text/css" href="../css/initial.css">
    <link rel="stylesheet" type="text/css" href="../css/common.css">
    <style type="text/css">
        .data-upload-panel{
            background-color: white;
            width: 100%;
            padding: 2em 3em;
        }
        #uploadBtn{
            padding: .5em;
        }
        input{
            margin: 1em;
        }
    </style>
</head>
<body>
<div class="header">
    <div class="header-title">文件上传</div>
</div>
<div class="data-upload-panel">
    <input id="file" type="file"/>
    <button id="upload" type="button">upload</button>
</div>

<script src="../js/jquery-3.1.1.min.js"></script>
<script src="../js/jquery-weui.min.js"></script>
<script type="text/javascript">
    var url = '/aqb/api/bindingNumber/importBindingNumber';
    $("#upload").on('click',function(e){
        var formData = new FormData();
        formData.append('file', $('#file')[0].files[0]);
        $.ajax({
            url:url,
            type:'POST',
            cache:false,
            data:formData,
            contentType: false,
            processData:false,
        }).then(function(data){
            console.log(data);
            alert(data.message);
        }).catch(function(err){
            alert(data.message);
            $.toast('Error!','forbidden');
        });
    });

</script>
</body>
</html>
